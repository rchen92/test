mkdir -p /u01/bak
create pfile='/u01/bak/initorcl.ora.p' from spfile;
create pfile from spfile;
scp /u01/bak/initorcl.ora.p oracle@192.168.68.131:///u01/bak/initorcl.ora.p


export ORACLE_SID=orcl

startup nomount pfile='/u01/bak/initorcl.ora.p'
create spfile from pfile;
create spfile from pfile='/u01/bak/initorcl.ora.p';

alter system set control_files='/data/oradata/o11gr2/control01.ctl', '/data/flash_recovery_area/o11gr2/control02.ctl' scope=spfile;                                
--P 相反                                                                                
alter system set db_file_name_convert='orcl', 'orcldg' scope=spfile;                            
alter system set db_name=orcl scope=spfile;                                   
--P 不同                                                                             
alter system set db_unique_name=orcldg scope=spfile;                            
alter system set fal_client='orcldg' scope=spfile; 
--Primary Database: Standby Role Initialization Parameters
alter system set fal_server='orcl' scope=spfile;  
--p不变
alter system set log_archive_config='DG_CONFIG=(orcl,orcldg)' scope=spfile; 
--P 相反   
--alter system set log_archive_dest_1='location=/arch VALID_FOR=(ALL_LOGFILES,ALL_ROLES)   DB_UNIQUE_NAME=orcldg' scope=spfile; 
alter system set log_archive_dest_1='location=+fra VALID_FOR=(ALL_LOGFILES,ALL_ROLES)   DB_UNIQUE_NAME=orcldg' scope=spfile;   
--P 相反   
alter system set log_archive_dest_2='SERVICE=orcl ASYNC   VALID_FOR=(ONLINE_LOGFILES,PRIMARY_ROLE) DB_UNIQUE_NAME=orcl' scope=spfile;                              
alter system set log_archive_dest_state_1=enable scope=spfile;                  
alter system set log_archive_dest_state_2=enable scope=spfile; 
alter system set log_archive_format='%t_%s_%r.dbf' scope=spfile;                  
alter system set log_archive_max_processes=30 scope=spfile;

--alter system set log_file_name_convert='orcldg', 'orcl' scope=spfile;                           
alter system set log_file_name_convert='orcl','orcldg'  scope=spfile;
alter system set remote_login_passwordfile=EXCLUSIVE scope=spfile;  

alter system set standby_file_management=auto scope=spfile;


new
--alter system set control_files=/data01/oradata/oflbox01/control01.ctl, /u01/oracle/fast_recovery_area/oflbox01/control02.ctl scope=spfile;
--alter system set db_file_name_convert= scope=spfile;
--alter system set db_name=oflbox01 scope=spfile;
alter system set db_unique_name='oflbox01dg' scope=spfile;
alter system set fal_client='oflbox01' scope=spfile;
alter system set fal_server='oflbox01dg' scope=spfile;
alter system set log_archive_config='DG_CONFIG=(oflbox01,oflbox01dg)' scope=spfile;
alter system set log_archive_dest_1='location=/data01/oralog/arch1  VALID_FOR=(ALL_LOGFILES,ALL_ROLES)   DB_UNIQUE_NAME=oflbox01dg' scope=spfile;
alter system set log_archive_dest_2='SERVICE=oflbox01 ASYNC   VALID_FOR=(ONLINE_LOGFILES,PRIMARY_ROLE) DB_UNIQUE_NAME=oflbox01' scope=spfile;  
--alter system set log_archive_dest_state_1=enable scope=spfile;
--alter system set log_archive_dest_state_2=enable scope=spfile;
--alter system set log_archive_format=%t_%s_%r.dbf scope=spfile;
alter system set log_archive_max_processes=30 scope=spfile;
--alter system set log_file_name_convert= scope=spfile;
--alter system set remote_login_passwordfile=EXCLUSIVE scope=spfile;
alter system set standby_file_management=auto scope=spfile;


$RORACLE_SID
startup nomount pfile='/backup/orabak/init.ora.old'
ORA-16032: parameter LOG_ARCHIVE_DEST_1 destination string cannot be translated
ORA-07286: sksagdi: cannot obtain device information.
Linux-x86_64 Error: 2: No such file or directory

mkdir -p /data01/oralog/arch1

ORA-09925: Unable to create audit trail file
Linux-x86_64 Error: 2: No such file or directory
Additional information: 9925
*.audit_file_dest='/u01/oracle/admin/oflbox01/adump'

mkdir -p /u01/oracle/admin/oflbox01/adump
*.control_files='/data01/oradata/oflbox01/control01.ctl','/u01/oracle/fast_recovery_area/oflbox01/control02.ctl'
ls /data01/oradata/oflbox01
ls /u01/oracle/fast_recovery_area/oflbox01
mkdir -p /data01/oradata/oflbox01
mkdir -p /u01/oracle/fast_recovery_area/oflbox01



 startup nomount pfile='/backup/orabak/init.ora.old'
 create spfile from pfile;
  could not open parameter file '/u01/oracle/db/dbs/initoflbox01.ora'
   create spfile from pfile='/backup/orabak/init.ora.old';
   shutdown immediate
   startup nomount
   alter spfile






